{% macro pagination(page, total_pages, base_url, qs='') %} {% set curr =
page|int %} {% set last = total_pages|int %} {% set qp = ('&' + qs if qs else
'') %}
<nav
  class="pagination flex justify-center gap-2 mt-8"
  role="navigation"
  aria-label="Pagination for news feed"
>
  <a
    class="page-link prev bg-[var(--color-bg-secondary)] text-[var(--color-fg)] px-4 py-2 rounded-[var(--border-radius)] hover:bg-[var(--color-accent)] hover:text-[var(--color-bg)] transition-all{% if curr <= 1 %} opacity-50 cursor-not-allowed{% endif %}"
    href="{{ base_url }}?page={{ curr-1 }}{{ qp }}"
    rel="prev"
    aria-disabled="{{ 'true' if curr <= 1 else 'false' }}"
    aria-label="Previous page"
  >
    Prev
  </a>

  <ul class="page-list flex gap-1">
    {% for n in range(1, last + 1) %}
    <li>
      {% if n == curr %}
      <span
        class="page-link current bg-[var(--color-accent)] text-[var(--color-bg)] px-3 py-1 rounded-[var(--border-radius)] font-[var(--font-heading)]"
        aria-current="page"
      >
        {{ n }}
      </span>
      {% else %}
      <a
        class="page-link bg-[var(--color-bg-secondary)] text-[var(--color-fg)] px-3 py-1 rounded-[var(--border-radius)] hover:bg-[var(--color-accent)] hover:text-[var(--color-bg)] transition-all glitch"
        href="{{ base_url }}?page={{ n }}{{ qp }}"
        aria-label="Page {{ n }}"
      >
        {{ n }}
      </a>
      {% endif %}
    </li>
    {% endfor %}
  </ul>

  <a
    class="page-link next bg-[var(--color-bg-secondary)] text-[var(--color-fg)] px-4 py-2 rounded-[var(--border-radius)] hover:bg-[var(--color-accent)] hover:text-[var(--color-bg)] transition-all{% if curr >= last %} opacity-50 cursor-not-allowed{% endif %}"
    href="{{ base_url }}?page={{ curr+1 }}{{ qp }}"
    rel="next"
    aria-disabled="{{ 'true' if curr >= last else 'false' }}"
    aria-label="Next page"
  >
    Next
  </a>
</nav>
{% endmacro %}
